---
title: Deployment Toolkit - Path to Live
sidebar: deployment_sidebar
keywords: guidance
permalink: dep_devptl.html
toc: false
folder: deployment
---

<div class="mxgraph" style="max-width:100%;" data-mxgraph="{&quot;highlight&quot;:&quot;#0000ff&quot;,&quot;lightbox&quot;:false,&quot;nav&quot;:true,&quot;edit&quot;:&quot;_blank&quot;,&quot;xml&quot;:&quot;&lt;mxfile host=\&quot;app.diagrams.net\&quot; modified=\&quot;2021-01-06T15:29:44.250Z\&quot; agent=\&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36\&quot; etag=\&quot;unAX9-FgnenWxdQbWw-J\&quot; version=\&quot;14.1.8\&quot; type=\&quot;device\&quot;&gt;&lt;diagram name=\&quot;Page-1\&quot; id=\&quot;12e1b939-464a-85fe-373e-61e167be1490\&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;&quot;}"></div>
<script type="text/javascript" src="https://viewer.diagrams.net/js/viewer-static.min.js"></script>

## Development

### Analysis

During this stage, suppliers will conduct any initial engagement, analysis etc.. required to get development underway. The UEC Booking demonstrator (deprecated) or the TKW Simulators are useful tools for this stage ([Demonstrator](http://appointments.directoryofservices.nhs.uk:443/poc/index), [Provider Simulator](https://hub.docker.com/r/nhsdigitalmait/tkw_uec_provider_simulator) or [Consumer Simulator](https://hub.docker.com/r/nhsdigitalmait/tkw_uec_consumer_simulator)).

### Development Complete

Once Development is complete, the suplier can move onto Integration Testing.


## Integration Testing

Integration testing can be a challenging step. It involves gaining access to the SPINE Integration Environment (INT).
There are a series of pre-requestites and steps to complete before you can begin integration testing which equate to [Technical Accreditation](https://developer.nhs.uk/apis/uec-appointments/assurance_supplier.html#technical-accreditation).

### Pre-Requisites
 
Below are the prerequisites that need to be established before it is possible to connect to the INT environment:
 * You must have HSCN connectivity 
 * You must have started the on-boarding (SCAL) process with the NHS Digital Solutions Assurance team

### Getting connected
Once you have the above pre-requisites you will need to <a href="https://digital.nhs.uk/services/path-to-live-environments/connect-to-a-path-to-live-environment" target="_blank">get connected to the INT environment</a>. This requires a series of steps:

1. Register or modify your FQDN with the NHS' DNS service 
 * You will find the <a href="https://digital.nhs.uk/forms/dns-request-form-for-path-to-live-environments" target="_blank">DNS request form here</a>.
 * You need to know what your URL is  
2. Register or modify your messaging product with Spine 
 * Use the <a href="https://digital.nhs.uk/forms/manufacturer-product-version-registration-request" target="_blank£">MPV registration request form</a> for this
3 Request new certificates and/or create or modify endpoints 
 * Use the <a href="https://digital.nhs.uk/forms/combined-endpoint-and-service-registration-request" target="_blank">Combined endpoint and service registration request form</a> for this
 
### Configure your environment to connect to SSP: 
<details>
  <summary>Click to see step-by-step guide</summary>
1. Install the cert you have been given to local cert store and bind you your site e.g. – *xxx.thirdparty.nhs.uk* etc 
2. Configure your firewall to make outbound connections to: *https://proxy.int.spine2.ncrs.nhs.uk/[provider service root url]/[fhir request]* 
 * See <a href="https://digital.nhs.uk/services/path-to-live-environments/integration-environment#messaging-urls" target="_blank">here</a> for more information 
3. Configure your firewall to receive connection inbound from msg-out.int.spine2.ncrs.nhs.uk  
 * See <a href="https://digital.nhs.uk/services/path-to-live-environments/integration-environment#outbound-network-address-translation-nat-addresses" target="_blank">here</a> for more information 
4. Root CA and Sub CA installed in cert store and added to bindings for local site in SSL/TLS
 * as described <a href="https://digital.nhs.uk/services/path-to-live-environments/integration-environment#rootca-and-subca-certificates" target="_blank">here</a>
 * Note: contrary to the information in that link, PLEASE ENSURE YOU PUT BOTH CERTIFICATES IN (SHA1 + SHA2) 
   (See <a href="https://digital.nhs.uk/services/path-to-live-environments/integration-environment" target="_blank">documentation</a> for more information) 
5. Configure and check Certificate revocation (CRL checks) for both old (SHA1) and new (SHA2) root certs. 
   Note: They use different revocation methods 
   * New method (SHA2) needs the following:
     * The SubCA/RootCA will point to this URL: "http://crl.nhs.uk/int/1c/crlc2.crl".  This location will download a CRL file locally and will add CRL checks in.
     * Local TLS should be configured to go check this file.  
      * It is on the INTERNET so please configure firewall outbound rules to be able to go to this URL over the internet. 

   * Old method (SHA1) needs the following: 
     Note: The CDP is a relative request to an LDAP query, this is not live and not accessible. 
     * So the process required is to download the file and load it locally into the CRL cache and then configure the service to not check for a new file 
     * The CRL files can be downloaded from <a href="http://checkit/public/pki/crls.php" target="_blank">here</a>: "http://checkit/public/pki/crls.php".  
        * This location is on HSCN. 
        * This file is updated every day.  However it is large, and so it is acceptable to have a batch process which updates it on a longer schedule. (we recommend once per week)
        * For your clients you will obviously need this to be a batch process to download and install. 
     Note – you need to find the correct CRL file for the right SSP integration or live environment 
     * If you are using IIS:
        * There is a way of setting IIS CRL to default to the cached file and use that even if the downloaded CRL expiry date is in the past.
        * If CertCheckMode is set to 2, certificate revocation verification will be done based on the cached CRL on the IIS server. IIS will not try to connect to the remote server to download the CRL even if it has expired and in which case CRL verification will fail (see; <a href="https://docs.microsoft.com/en-gb/windows/win32/api/http/ns-http-http_service_config_ssl_param?redirectedfrom=MSDN" target="_blank">MSDN Article</a>). 
        </details>
 
### End-to-End test

TBC

## Assure

TBC

### Technical Conformance Certificate

TBC

## Provider Testing

TBC

### Live Install

TBC

## Technical Live

TBC

### Business Live

TBC
